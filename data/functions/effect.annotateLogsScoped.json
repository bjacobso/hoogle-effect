{
  "id": "Effect.annotateLogsScoped",
  "name": "annotateLogsScoped",
  "module": "Effect",
  "package": "effect",
  "signature": "{ (key: string, value: unknown): Effect<void, never, Scope>; (values: Record<string, unknown>): Effect<void, never, Scope>; }",
  "description": "Adds log annotations with a limited scope to enhance contextual logging.\n*Details This function allows you to apply key-value annotations to log entries\ngenerated within a specific scope of your effect computations. The\nannotations are restricted to the defined `Scope`, ensuring that they are\nonly applied to logs produced during that scope. Once the scope ends, the\nannotations are automatically removed, making it easier to manage\ncontext-specific logging without affecting other parts of your application. The annotations can be provided as a single key-value pair or as a record of\nmultiple key-value pairs. This flexibility enables fine-grained control over\nthe additional metadata included in logs for specific tasks or operations.\n*Example",
  "documentation": "Adds log annotations with a limited scope to enhance contextual logging.\n*Details**\n\nThis function allows you to apply key-value annotations to log entries\ngenerated within a specific scope of your effect computations. The\nannotations are restricted to the defined `Scope`, ensuring that they are\nonly applied to logs produced during that scope. Once the scope ends, the\nannotations are automatically removed, making it easier to manage\ncontext-specific logging without affecting other parts of your application.\n\nThe annotations can be provided as a single key-value pair or as a record of\nmultiple key-value pairs. This flexibility enables fine-grained control over\nthe additional metadata included in logs for specific tasks or operations.\n*Example**\n\n```ts\nimport { Effect } from \"effect\"\n\nconst program = Effect.gen(function*() {\nyield* Effect.log(\"no annotations\")\nyield* Effect.annotateLogsScoped({ key: \"value\" })\nyield* Effect.log(\"message1\") // Annotation is applied to this log\nyield* Effect.log(\"message2\") // Annotation is applied to this log\n}).pipe(Effect.scoped, Effect.andThen(Effect.log(\"no annotations again\")))\n\nEffect.runFork(program)\n// timestamp=... level=INFO fiber=#0 message=\"no annotations\"\n// timestamp=... level=INFO fiber=#0 message=message1 key=value\n// timestamp=... level=INFO fiber=#0 message=message2 key=value\n// timestamp=... level=INFO fiber=#0 message=\"no annotations again\"\n```",
  "examples": [
    {
      "code": "import { Effect } from \"effect\"\n\nconst program = Effect.gen(function*() {\nyield* Effect.log(\"no annotations\")\nyield* Effect.annotateLogsScoped({ key: \"value\" })\nyield* Effect.log(\"message1\") // Annotation is applied to this log\nyield* Effect.log(\"message2\") // Annotation is applied to this log\n}).pipe(Effect.scoped, Effect.andThen(Effect.log(\"no annotations again\")))\n\nEffect.runFork(program)\n// timestamp=... level=INFO fiber=#0 message=\"no annotations\"\n// timestamp=... level=INFO fiber=#0 message=message1 key=value\n// timestamp=... level=INFO fiber=#0 message=message2 key=value\n// timestamp=... level=INFO fiber=#0 message=\"no annotations again\""
    }
  ],
  "tags": [
    "Logging"
  ],
  "since": "3.1.0",
  "sourceFile": "/Users/benjacobson/conductor/workspaces/hoogle-effect/san-juan-v1/packages/api/node_modules/effect/dist/dts/effect.d.ts",
  "sourceLine": 22755,
  "githubUrl": "https://github.com/Effect-TS/effect/blob/main/packages/effect/src/effect.ts#L22755"
}