{
  "id": "Effect.raceAll",
  "name": "raceAll",
  "module": "Effect",
  "package": "effect",
  "signature": "<Eff extends Effect<any, any, any>>(all: Iterable<Eff>) => Effect<Effect.Success<Eff>, Effect.Error<Eff>, Effect.Context<Eff>>",
  "description": "Races multiple effects and returns the first successful result.\n*Details This function runs multiple effects concurrently and returns the result of\nthe first one to succeed. If one effect succeeds, the others will be\ninterrupted. If none of the effects succeed, the function will fail with the last error\nencountered.\n*When to Use This is useful when you want to race multiple effects, but only care about\nthe first one to succeed. It is commonly used in cases like timeouts,\nretries, or when you want to optimize for the faster response without\nworrying about the other effects.\n*Example (All Tasks Succeed) *Example (One Task Fails, Two Tasks Succeed) *Example (All Tasks Fail)",
  "documentation": "Races multiple effects and returns the first successful result.\n*Details**\n\nThis function runs multiple effects concurrently and returns the result of\nthe first one to succeed. If one effect succeeds, the others will be\ninterrupted.\n\nIf none of the effects succeed, the function will fail with the last error\nencountered.\n*When to Use**\n\nThis is useful when you want to race multiple effects, but only care about\nthe first one to succeed. It is commonly used in cases like timeouts,\nretries, or when you want to optimize for the faster response without\nworrying about the other effects.\n*Example** (All Tasks Succeed)\n\n```ts\nimport { Effect, Console } from \"effect\"\n\nconst task1 = Effect.succeed(\"task1\").pipe(\nEffect.delay(\"100 millis\"),\nEffect.tap(Console.log(\"task1 done\")),\nEffect.onInterrupt(() => Console.log(\"task1 interrupted\"))\n)\nconst task2 = Effect.succeed(\"task2\").pipe(\nEffect.delay(\"200 millis\"),\nEffect.tap(Console.log(\"task2 done\")),\nEffect.onInterrupt(() => Console.log(\"task2 interrupted\"))\n)\n\nconst task3 = Effect.succeed(\"task3\").pipe(\nEffect.delay(\"150 millis\"),\nEffect.tap(Console.log(\"task3 done\")),\nEffect.onInterrupt(() => Console.log(\"task3 interrupted\"))\n)\n\nconst program = Effect.raceAll([task1, task2, task3])\n\nEffect.runFork(program)\n// Output:\n// task1 done\n// task2 interrupted\n// task3 interrupted\n```\n*Example** (One Task Fails, Two Tasks Succeed)\n\n```ts\nimport { Effect, Console } from \"effect\"\n\nconst task1 = Effect.fail(\"task1\").pipe(\nEffect.delay(\"100 millis\"),\nEffect.tap(Console.log(\"task1 done\")),\nEffect.onInterrupt(() => Console.log(\"task1 interrupted\"))\n)\nconst task2 = Effect.succeed(\"task2\").pipe(\nEffect.delay(\"200 millis\"),\nEffect.tap(Console.log(\"task2 done\")),\nEffect.onInterrupt(() => Console.log(\"task2 interrupted\"))\n)\n\nconst task3 = Effect.succeed(\"task3\").pipe(\nEffect.delay(\"150 millis\"),\nEffect.tap(Console.log(\"task3 done\")),\nEffect.onInterrupt(() => Console.log(\"task3 interrupted\"))\n)\n\nconst program = Effect.raceAll([task1, task2, task3])\n\nEffect.runFork(program)\n// Output:\n// task3 done\n// task2 interrupted\n```\n*Example** (All Tasks Fail)\n\n```ts\nimport { Effect, Console } from \"effect\"\n\nconst task1 = Effect.fail(\"task1\").pipe(\nEffect.delay(\"100 millis\"),\nEffect.tap(Console.log(\"task1 done\")),\nEffect.onInterrupt(() => Console.log(\"task1 interrupted\"))\n)\nconst task2 = Effect.fail(\"task2\").pipe(\nEffect.delay(\"200 millis\"),\nEffect.tap(Console.log(\"task2 done\")),\nEffect.onInterrupt(() => Console.log(\"task2 interrupted\"))\n)\n\nconst task3 = Effect.fail(\"task3\").pipe(\nEffect.delay(\"150 millis\"),\nEffect.tap(Console.log(\"task3 done\")),\nEffect.onInterrupt(() => Console.log(\"task3 interrupted\"))\n)\n\nconst program = Effect.raceAll([task1, task2, task3])\n\nEffect.runPromiseExit(program).then(console.log)\n// Output:\n// {\n// _id: 'Exit',\n// _tag: 'Failure',\n// cause: { _id: 'Cause', _tag: 'Fail', failure: 'task2' }\n// }\n```",
  "examples": [
    {
      "code": "import { Effect, Console } from \"effect\"\n\nconst task1 = Effect.succeed(\"task1\").pipe(\nEffect.delay(\"100 millis\"),\nEffect.tap(Console.log(\"task1 done\")),\nEffect.onInterrupt(() => Console.log(\"task1 interrupted\"))\n)\nconst task2 = Effect.succeed(\"task2\").pipe(\nEffect.delay(\"200 millis\"),\nEffect.tap(Console.log(\"task2 done\")),\nEffect.onInterrupt(() => Console.log(\"task2 interrupted\"))\n)\n\nconst task3 = Effect.succeed(\"task3\").pipe(\nEffect.delay(\"150 millis\"),\nEffect.tap(Console.log(\"task3 done\")),\nEffect.onInterrupt(() => Console.log(\"task3 interrupted\"))\n)\n\nconst program = Effect.raceAll([task1, task2, task3])\n\nEffect.runFork(program)\n// Output:\n// task1 done\n// task2 interrupted\n// task3 interrupted"
    },
    {
      "code": "import { Effect, Console } from \"effect\"\n\nconst task1 = Effect.fail(\"task1\").pipe(\nEffect.delay(\"100 millis\"),\nEffect.tap(Console.log(\"task1 done\")),\nEffect.onInterrupt(() => Console.log(\"task1 interrupted\"))\n)\nconst task2 = Effect.succeed(\"task2\").pipe(\nEffect.delay(\"200 millis\"),\nEffect.tap(Console.log(\"task2 done\")),\nEffect.onInterrupt(() => Console.log(\"task2 interrupted\"))\n)\n\nconst task3 = Effect.succeed(\"task3\").pipe(\nEffect.delay(\"150 millis\"),\nEffect.tap(Console.log(\"task3 done\")),\nEffect.onInterrupt(() => Console.log(\"task3 interrupted\"))\n)\n\nconst program = Effect.raceAll([task1, task2, task3])\n\nEffect.runFork(program)\n// Output:\n// task3 done\n// task2 interrupted"
    },
    {
      "code": "import { Effect, Console } from \"effect\"\n\nconst task1 = Effect.fail(\"task1\").pipe(\nEffect.delay(\"100 millis\"),\nEffect.tap(Console.log(\"task1 done\")),\nEffect.onInterrupt(() => Console.log(\"task1 interrupted\"))\n)\nconst task2 = Effect.fail(\"task2\").pipe(\nEffect.delay(\"200 millis\"),\nEffect.tap(Console.log(\"task2 done\")),\nEffect.onInterrupt(() => Console.log(\"task2 interrupted\"))\n)\n\nconst task3 = Effect.fail(\"task3\").pipe(\nEffect.delay(\"150 millis\"),\nEffect.tap(Console.log(\"task3 done\")),\nEffect.onInterrupt(() => Console.log(\"task3 interrupted\"))\n)\n\nconst program = Effect.raceAll([task1, task2, task3])\n\nEffect.runPromiseExit(program).then(console.log)\n// Output:\n// {\n// _id: 'Exit',\n// _tag: 'Failure',\n// cause: { _id: 'Cause', _tag: 'Fail', failure: 'task2' }\n// }"
    }
  ],
  "tags": [
    "Racing"
  ],
  "since": "2.0.0",
  "sourceFile": "/Users/benjacobson/conductor/workspaces/hoogle-effect/san-juan-v1/packages/api/node_modules/effect/dist/dts/effect.d.ts",
  "sourceLine": 18024,
  "githubUrl": "https://github.com/Effect-TS/effect/blob/main/packages/effect/src/effect.ts#L18024"
}