{
  "id": "Effect.orDieWith",
  "name": "orDieWith",
  "module": "Effect",
  "package": "effect",
  "signature": "{ <E>(f: (error: E) => unknown): <A, R>(self: Effect<A, E, R>) => Effect<A, never, R>; <A, E, R>(self: Effect<A, E, R>, f: (error: E) => unknown): Effect<A, never, R>; }",
  "description": "Converts an effect's failure into a fiber termination with a custom error.",
  "documentation": "Converts an effect's failure into a fiber termination with a custom error.\n**Details**\nThe `orDieWith` function behaves like {@link orDie}, but it allows you to provide a mapping\nfunction to transform the error before terminating the fiber. This is useful for cases where\nyou want to include a more detailed or user-friendly error when the failure is propagated\nas a defect.\n**When to Use**\nUse `orDieWith` when failures should terminate the fiber as defects, and you want to customize\nthe error for clarity or debugging purposes.\n**Example** (Customizing Defect)\n```ts\nimport { Effect } from \"effect\"\nconst divide = (a: number, b: number) =>\nb === 0\n? Effect.fail(new Error(\"Cannot divide by zero\"))\n: Effect.succeed(a / b)\n// ┌─── Effect<number, never, never>\n// ▼\nconst program = Effect.orDieWith(\ndivide(1, 0),\n(error) => new Error(`defect: ${error.message}`)\n)\nEffect.runPromise(program).catch(console.error)\n// Output:\n// (FiberFailure) Error: defect: Cannot divide by zero\n// ...stack trace...\n```",
  "examples": [
    {
      "title": "Customizing Defect",
      "code": "import { Effect } from \"effect\"\nconst divide = (a: number, b: number) =>\nb === 0\n? Effect.fail(new Error(\"Cannot divide by zero\"))\n: Effect.succeed(a / b)\n// ┌─── Effect<number, never, never>\n// ▼\nconst program = Effect.orDieWith(\ndivide(1, 0),\n(error) => new Error(`defect: ${error.message}`)\n)\nEffect.runPromise(program).catch(console.error)\n// Output:\n// (FiberFailure) Error: defect: Cannot divide by zero\n// ...stack trace..."
    }
  ],
  "tags": [
    "Converting Failures to Defects"
  ],
  "since": "2.0.0",
  "sourceFile": "/Users/benjacobson/conductor/workspaces/hoogle-effect/san-juan-v1/packages/api/node_modules/effect/dist/dts/effect.d.ts",
  "sourceLine": 23155,
  "githubUrl": "https://github.com/Effect-TS/effect/blob/main/packages/effect/src/effect.ts#L23155"
}