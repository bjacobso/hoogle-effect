{
  "id": "Effect.loop",
  "name": "loop",
  "module": "Effect",
  "package": "effect",
  "signature": "{ <A, B extends A, C, E, R>(initial: A, options: { readonly while: Refinement<A, B>; readonly step: (b: B) => A; readonly body: (b: B) => Effect<C, E, R>; readonly discard?: false; }): Effect<C[], E, R>; <A, C, E, R>(initial: A, options: { readonly while: (a: A) => boolean; readonly step: (a: A) => A; readonly body: (a: A) => Effect<C, E, R>; readonly discard?: false; }): Effect<C[], E, R>; <A, B extends A, C, E, R>(initial: A, options: { readonly while: Refinement<A, B>; readonly step: (b: B) => A; readonly body: (b: B) => Effect<C, E, R>; readonly discard: true; }): Effect<void, E, R>; <A, C, E, R>(initial: A, options: { readonly while: (a: A) => boolean; readonly step: (a: A) => A; readonly body: (a: A) => Effect<C, E, R>; readonly discard: true; }): Effect<void, E, R>; }",
  "description": "Repeatedly executes a loop with a state, collecting results or discarding\nthem based on configuration.\n*Details This function performs an effectful loop, starting with an initial state and\niterating as long as the `while` condition evaluates to `true`, similar to a\n`while` loop in JavaScript. During each iteration, the `step` function updates the state, and the `body`\neffect is executed. The results of the body effect can be collected in an array or discarded\nbased on the `discard` option.\n*Discarding Intermediate Results - If `discard` is `false` or not provided, the intermediate results are\ncollected into an array and returned as the final result.\n- If `discard` is `true`, the intermediate results are ignored, and the\neffect returns `void`.\n*When to Use This is useful for implementing loops where you need to perform effectful\ncomputations repeatedly, such as processing items in a list, generating\nvalues, or performing iterative updates.\n*Example (Looping with Collected Results) *Example (Loop with Discarded Results)",
  "documentation": "Repeatedly executes a loop with a state, collecting results or discarding\nthem based on configuration.\n*Details**\n\nThis function performs an effectful loop, starting with an initial state and\niterating as long as the `while` condition evaluates to `true`, similar to a\n`while` loop in JavaScript.\n\n```ts skip-type-checking\nlet state = initial\nconst result = []\n\nwhile (options.while(state)) {\nresult.push(options.body(state)) // Perform the effectful operation\nstate = options.step(state) // Update the state\n}\n\nreturn result\n```\n\nDuring each iteration, the `step` function updates the state, and the `body`\neffect is executed.\n\nThe results of the body effect can be collected in an array or discarded\nbased on the `discard` option.\n*Discarding Intermediate Results**\n\n- If `discard` is `false` or not provided, the intermediate results are\ncollected into an array and returned as the final result.\n- If `discard` is `true`, the intermediate results are ignored, and the\neffect returns `void`.\n*When to Use**\n\nThis is useful for implementing loops where you need to perform effectful\ncomputations repeatedly, such as processing items in a list, generating\nvalues, or performing iterative updates.\n*Example** (Looping with Collected Results)\n\n```ts\nimport { Effect } from \"effect\"\n\n// A loop that runs 5 times, collecting each iteration's result\nconst result = Effect.loop(\n// Initial state\n1,\n{\n// Condition to continue looping\nwhile: (state) => state <= 5,\n// State update function\nstep: (state) => state + 1,\n// Effect to be performed on each iteration\nbody: (state) => Effect.succeed(state)\n}\n)\n\nEffect.runPromise(result).then(console.log)\n// Output: [1, 2, 3, 4, 5]\n```\n*Example** (Loop with Discarded Results)\n\n```ts\nimport { Effect, Console } from \"effect\"\n\nconst result = Effect.loop(\n// Initial state\n1,\n{\n// Condition to continue looping\nwhile: (state) => state <= 5,\n// State update function\nstep: (state) => state + 1,\n// Effect to be performed on each iteration\nbody: (state) => Console.log(`Currently at state ${state}`),\n// Discard intermediate results\ndiscard: true\n}\n)\n\nEffect.runPromise(result).then(console.log)\n// Output:\n// Currently at state 1\n// Currently at state 2\n// Currently at state 3\n// Currently at state 4\n// Currently at state 5\n// undefined\n```",
  "examples": [
    {
      "code": "import { Effect } from \"effect\"\n\n// A loop that runs 5 times, collecting each iteration's result\nconst result = Effect.loop(\n// Initial state\n1,\n{\n// Condition to continue looping\nwhile: (state) => state <= 5,\n// State update function\nstep: (state) => state + 1,\n// Effect to be performed on each iteration\nbody: (state) => Effect.succeed(state)\n}\n)\n\nEffect.runPromise(result).then(console.log)\n// Output: [1, 2, 3, 4, 5]"
    },
    {
      "code": "import { Effect, Console } from \"effect\"\n\nconst result = Effect.loop(\n// Initial state\n1,\n{\n// Condition to continue looping\nwhile: (state) => state <= 5,\n// State update function\nstep: (state) => state + 1,\n// Effect to be performed on each iteration\nbody: (state) => Console.log(`Currently at state ${state}`),\n// Discard intermediate results\ndiscard: true\n}\n)\n\nEffect.runPromise(result).then(console.log)\n// Output:\n// Currently at state 1\n// Currently at state 2\n// Currently at state 3\n// Currently at state 4\n// Currently at state 5\n// undefined"
    }
  ],
  "tags": [
    "Looping"
  ],
  "since": "2.0.0",
  "sourceFile": "/Users/benjacobson/conductor/workspaces/hoogle-effect/san-juan-v1/packages/api/node_modules/effect/dist/dts/effect.d.ts",
  "sourceLine": 20175,
  "githubUrl": "https://github.com/Effect-TS/effect/blob/main/packages/effect/src/effect.ts#L20175"
}