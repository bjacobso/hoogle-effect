{
  "id": "Effect.cached",
  "name": "cached",
  "module": "Effect",
  "package": "effect",
  "signature": "<A, E, R>(self: Effect<A, E, R>) => Effect<Effect<A, E, R>, never, never>",
  "description": "Returns an effect that lazily computes a result and caches it for subsequent\nevaluations.\n*Details This function wraps an effect and ensures that its result is computed only\nonce. Once the result is computed, it is cached, meaning that subsequent\nevaluations of the same effect will return the cached result without\nre-executing the logic.\n*When to Use Use this function when you have an expensive or time-consuming operation that\nyou want to avoid repeating. The first evaluation will compute the result,\nand all following evaluations will immediately return the cached value,\nimproving performance and reducing unnecessary work.\n*Example",
  "documentation": "Returns an effect that lazily computes a result and caches it for subsequent\nevaluations.\n*Details**\n\nThis function wraps an effect and ensures that its result is computed only\nonce. Once the result is computed, it is cached, meaning that subsequent\nevaluations of the same effect will return the cached result without\nre-executing the logic.\n*When to Use**\n\nUse this function when you have an expensive or time-consuming operation that\nyou want to avoid repeating. The first evaluation will compute the result,\nand all following evaluations will immediately return the cached value,\nimproving performance and reducing unnecessary work.\n*Example**\n\n```ts\nimport { Effect, Console } from \"effect\"\n\nlet i = 1\nconst expensiveTask = Effect.promise<string>(() => {\nconsole.log(\"expensive task...\")\nreturn new Promise((resolve) => {\nsetTimeout(() => {\nresolve(`result ${i++}`)\n}, 100)\n})\n})\n\nconst program = Effect.gen(function* () {\nconsole.log(\"non-cached version:\")\nyield* expensiveTask.pipe(Effect.andThen(Console.log))\nyield* expensiveTask.pipe(Effect.andThen(Console.log))\nconsole.log(\"cached version:\")\nconst cached = yield* Effect.cached(expensiveTask)\nyield* cached.pipe(Effect.andThen(Console.log))\nyield* cached.pipe(Effect.andThen(Console.log))\n})\n\nEffect.runFork(program)\n// Output:\n// non-cached version:\n// expensive task...\n// result 1\n// expensive task...\n// result 2\n// cached version:\n// expensive task...\n// result 3\n// result 3\n```",
  "examples": [
    {
      "code": "import { Effect, Console } from \"effect\"\n\nlet i = 1\nconst expensiveTask = Effect.promise<string>(() => {\nconsole.log(\"expensive task...\")\nreturn new Promise((resolve) => {\nsetTimeout(() => {\nresolve(`result ${i++}`)\n}, 100)\n})\n})\n\nconst program = Effect.gen(function* () {\nconsole.log(\"non-cached version:\")\nyield* expensiveTask.pipe(Effect.andThen(Console.log))\nyield* expensiveTask.pipe(Effect.andThen(Console.log))\nconsole.log(\"cached version:\")\nconst cached = yield* Effect.cached(expensiveTask)\nyield* cached.pipe(Effect.andThen(Console.log))\nyield* cached.pipe(Effect.andThen(Console.log))\n})\n\nEffect.runFork(program)\n// Output:\n// non-cached version:\n// expensive task...\n// result 1\n// expensive task...\n// result 2\n// cached version:\n// expensive task...\n// result 3\n// result 3"
    }
  ],
  "tags": [
    "Caching"
  ],
  "since": "2.0.0",
  "sourceFile": "/Users/benjacobson/conductor/workspaces/hoogle-effect/san-juan-v1/packages/api/node_modules/effect/dist/dts/effect.d.ts",
  "sourceLine": 725,
  "githubUrl": "https://github.com/Effect-TS/effect/blob/main/packages/effect/src/effect.ts#L725"
}