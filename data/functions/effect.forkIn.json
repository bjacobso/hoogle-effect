{
  "id": "Effect.forkIn",
  "name": "forkIn",
  "module": "Effect",
  "package": "effect",
  "signature": "{ (scope: Scope): <A, E, R>(self: Effect<A, E, R>) => Effect<RuntimeFiber<A, E>, never, R>; <A, E, R>(self: Effect<A, E, R>, scope: Scope): Effect<RuntimeFiber<A, E>, never, R>; }",
  "description": "Forks an effect in a specific scope, allowing finer control over its\nexecution.\n*Details There are some cases where we need more fine-grained control, so we want to\nfork a fiber in a specific scope. We can use the `Effect.forkIn` operator\nwhich takes the target scope as an argument. The fiber will be interrupted when the scope is closed.\n*Example (Forking a Fiber in a Specific Scope) In this example, the child fiber is forked into the outerScope,\nallowing it to outlive the inner scope but still be terminated\nwhen the outerScope is closed.",
  "documentation": "Forks an effect in a specific scope, allowing finer control over its\nexecution.\n*Details**\n\nThere are some cases where we need more fine-grained control, so we want to\nfork a fiber in a specific scope. We can use the `Effect.forkIn` operator\nwhich takes the target scope as an argument.\n\nThe fiber will be interrupted when the scope is closed.\n*Example** (Forking a Fiber in a Specific Scope)\n\nIn this example, the child fiber is forked into the outerScope,\nallowing it to outlive the inner scope but still be terminated\nwhen the outerScope is closed.\n\n```ts\nimport { Console, Effect, Schedule } from \"effect\"\n\n// Child fiber that logs a message repeatedly every second\nconst child = Effect.repeat(\nConsole.log(\"child: still running!\"),\nSchedule.fixed(\"1 second\")\n)\n\nconst program = Effect.scoped(\nEffect.gen(function* () {\nyield* Effect.addFinalizer(() =>\nConsole.log(\"The outer scope is about to be closed!\")\n)\n\n// Capture the outer scope\nconst outerScope = yield* Effect.scope\n\n// Create an inner scope\nyield* Effect.scoped(\nEffect.gen(function* () {\nyield* Effect.addFinalizer(() =>\nConsole.log(\"The inner scope is about to be closed!\")\n)\n// Fork the child fiber in the outer scope\nyield* Effect.forkIn(child, outerScope)\nyield* Effect.sleep(\"3 seconds\")\n})\n)\n\nyield* Effect.sleep(\"5 seconds\")\n})\n)\n\nEffect.runFork(program)\n// Output:\n// child: still running!\n// child: still running!\n// child: still running!\n// The inner scope is about to be closed!\n// child: still running!\n// child: still running!\n// child: still running!\n// child: still running!\n// child: still running!\n// child: still running!\n// The outer scope is about to be closed!\n```",
  "examples": [
    {
      "code": "import { Console, Effect, Schedule } from \"effect\"\n\n// Child fiber that logs a message repeatedly every second\nconst child = Effect.repeat(\nConsole.log(\"child: still running!\"),\nSchedule.fixed(\"1 second\")\n)\n\nconst program = Effect.scoped(\nEffect.gen(function* () {\nyield* Effect.addFinalizer(() =>\nConsole.log(\"The outer scope is about to be closed!\")\n)\n\n// Capture the outer scope\nconst outerScope = yield* Effect.scope\n\n// Create an inner scope\nyield* Effect.scoped(\nEffect.gen(function* () {\nyield* Effect.addFinalizer(() =>\nConsole.log(\"The inner scope is about to be closed!\")\n)\n// Fork the child fiber in the outer scope\nyield* Effect.forkIn(child, outerScope)\nyield* Effect.sleep(\"3 seconds\")\n})\n)\n\nyield* Effect.sleep(\"5 seconds\")\n})\n)\n\nEffect.runFork(program)\n// Output:\n// child: still running!\n// child: still running!\n// child: still running!\n// The inner scope is about to be closed!\n// child: still running!\n// child: still running!\n// child: still running!\n// child: still running!\n// child: still running!\n// child: still running!\n// The outer scope is about to be closed!"
    }
  ],
  "tags": [
    "Supervision & Fibers"
  ],
  "since": "2.0.0",
  "sourceFile": "/Users/benjacobson/conductor/workspaces/hoogle-effect/san-juan-v1/packages/api/node_modules/effect/dist/dts/effect.d.ts",
  "sourceLine": 11507,
  "githubUrl": "https://github.com/Effect-TS/effect/blob/main/packages/effect/src/effect.ts#L11507"
}