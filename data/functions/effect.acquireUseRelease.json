{
  "id": "Effect.acquireUseRelease",
  "name": "acquireUseRelease",
  "module": "Effect",
  "package": "effect",
  "signature": "{ <A2, E2, R2, A, X, R3>(use: (a: A) => Effect<A2, E2, R2>, release: (a: A, exit: Exit<A2, E2>) => Effect<X, never, R3>): <E, R>(acquire: Effect<A, E, R>) => Effect<A2, E2 | E, R2 | R3 | R>; <A, E, R, A2, E2, R2, X, R3>(acquire: Effect<A, E, R>, use: (a: A) => Effect<A2, E2, R2>, release: (a: A, exit: Exit<A2, E2>) => Effect<X, never, R3>): Effect<A2, E | E2, R | R2 | R3>; }",
  "description": "Many real-world operations involve working with resources that must be released when no longer needed, such as: - Database connections\n- File handles\n- Network requests This function ensures that a resource is: 1. Acquired properly.\n2. Used for its intended purpose.\n3. Released even if an error occurs.\n*Example (Automatically Managing Resource Lifetime)",
  "documentation": "Many real-world operations involve working with resources that must be released when no longer needed, such as:\n\n- Database connections\n- File handles\n- Network requests\n\nThis function ensures that a resource is:\n\n1. **Acquired** properly.\n2. **Used** for its intended purpose.\n3. **Released** even if an error occurs.\n*Example** (Automatically Managing Resource Lifetime)\n\n```ts\nimport { Effect, Console } from \"effect\"\n\n// Define an interface for a resource\ninterface MyResource {\nreadonly contents: string\nreadonly close: () => Promise<void>\n}\n\n// Simulate resource acquisition\nconst getMyResource = (): Promise<MyResource> =>\nPromise.resolve({\ncontents: \"lorem ipsum\",\nclose: () =>\nnew Promise((resolve) => {\nconsole.log(\"Resource released\")\nresolve()\n})\n})\n\n// Define how the resource is acquired\nconst acquire = Effect.tryPromise({\ntry: () =>\ngetMyResource().then((res) => {\nconsole.log(\"Resource acquired\")\nreturn res\n}),\ncatch: () => new Error(\"getMyResourceError\")\n})\n\n// Define how the resource is released\nconst release = (res: MyResource) => Effect.promise(() => res.close())\n\nconst use = (res: MyResource) => Console.log(`content is ${res.contents}`)\n\n// ┌─── Effect<void, Error, never>\n// ▼\nconst program = Effect.acquireUseRelease(acquire, use, release)\n\nEffect.runPromise(program)\n// Output:\n// Resource acquired\n// content is lorem ipsum\n// Resource released\n```",
  "examples": [
    {
      "code": "import { Effect, Console } from \"effect\"\n\n// Define an interface for a resource\ninterface MyResource {\nreadonly contents: string\nreadonly close: () => Promise<void>\n}\n\n// Simulate resource acquisition\nconst getMyResource = (): Promise<MyResource> =>\nPromise.resolve({\ncontents: \"lorem ipsum\",\nclose: () =>\nnew Promise((resolve) => {\nconsole.log(\"Resource released\")\nresolve()\n})\n})\n\n// Define how the resource is acquired\nconst acquire = Effect.tryPromise({\ntry: () =>\ngetMyResource().then((res) => {\nconsole.log(\"Resource acquired\")\nreturn res\n}),\ncatch: () => new Error(\"getMyResourceError\")\n})\n\n// Define how the resource is released\nconst release = (res: MyResource) => Effect.promise(() => res.close())\n\nconst use = (res: MyResource) => Console.log(`content is ${res.contents}`)\n\n// ┌─── Effect<void, Error, never>\n// ▼\nconst program = Effect.acquireUseRelease(acquire, use, release)\n\nEffect.runPromise(program)\n// Output:\n// Resource acquired\n// content is lorem ipsum\n// Resource released"
    }
  ],
  "tags": [
    "Scoping, Resources & Finalization"
  ],
  "since": "2.0.0",
  "sourceFile": "/Users/benjacobson/conductor/workspaces/hoogle-effect/san-juan-v1/packages/api/node_modules/effect/dist/dts/effect.d.ts",
  "sourceLine": 10027,
  "githubUrl": "https://github.com/Effect-TS/effect/blob/main/packages/effect/src/effect.ts#L10027"
}